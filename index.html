<!-- ... (head e estilo mantidos como no anterior) ... -->

<script>
  // elementos do jogo
  const p1 = document.getElementById("player1");
  const p2 = document.getElementById("player2");
  const lifeFill1 = document.getElementById("lifeFill1");
  const lifeFill2 = document.getElementById("lifeFill2");
  const hitEffect1 = document.getElementById("hitEffect1");
  const hitEffect2 = document.getElementById("hitEffect2");

  // variáveis de posição e vida
  let pos1 = 100, pos2 = window.innerWidth - 150;
  let life1 = 100, life2 = 100;
  let keys = {};

  // dados de pulo
  let p1Jump = { vy: 0, vx: 0, y: 0, jumping: false };
  let p2Jump = { vy: 0, vx: 0, y: 0, jumping: false };

  const gravity = 0.4;
  const jumpSpeed = 20;
  const airSpeed = 3;

  document.addEventListener("keydown", e => {
    keys[e.key.toLowerCase()] = true;
    e.preventDefault();
  });

  document.addEventListener("keyup", e => {
    keys[e.key.toLowerCase()] = false;
    e.preventDefault();
  });

  function atacar(atacante, defensor, teclas, efeitos, golpes) {
    for (let i = 0; i < teclas.length; i++) {
      if (keys[teclas[i]]) {
        keys[teclas[i]] = false;

        const distancia = Math.abs(atacante.pos - defensor.pos);
        const alcance = golpes[i].alcance;
        const dano = golpes[i].dano;

        if (distancia < alcance) {
          defensor.vida -= dano;

          efeitos.style.left = (defensor.pos + 10) + "px";
          efeitos.style.bottom = (defensor.jump.y + 60) + "px";
          efeitos.style.opacity = 1;
          efeitos.style.transform = "scale(1.5)";
          setTimeout(() => {
            efeitos.style.opacity = 0;
          }, 200);
        }
      }
    }
  }

  function update() {
    // MOVIMENTO P1
    if (!p1Jump.jumping) {
      if (keys["a"]) pos1 -= 4;
      if (keys["d"]) pos1 += 4;
    }
